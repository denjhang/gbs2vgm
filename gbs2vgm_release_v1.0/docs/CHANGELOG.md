# 更新日志

## v1.0.0 (2026-02-03)

### 新增功能
- ✅ GBS 到 VGM 单文件转换器
- ✅ M3U 播放列表批量转换
- ✅ 7z 压缩包自动解压支持
- ✅ ZIP 压缩包自动解压支持
- ✅ 智能文件名解析器
- ✅ 完整 GD3 标签支持
- ✅ ZIP 自动打包输出

### 重要修复
- 🔧 修正 Game Boy DMG 时钟偏移（0x7C → 0x80）
  - 问题：生成的 VGM 文件没有声音
  - 原因：时钟值写入了错误的偏移位置
  - 解决：参考 libvgm，将时钟写入正确的 0x80 偏移

- 🔧 修正作者名获取方式
  - 问题：作者名显示为公司名（如 Chunsoft）
  - 原因：从文件名提取的是开发商/发行商信息
  - 解决：从 GBS 文件内部读取真实作者名（如 Koichi Sugiyama）

- 🔧 智能 M3U 文件查找
  - 问题：7z 包含多个 M3U 时选择错误
  - 原因：只选择第一个找到的 M3U 文件
  - 解决：优先查找与 GBS 文件同名的主 M3U 文件

### 技术改进
- 📦 集成 7z SDK（无需外部 7z 程序）
- 📦 集成 zlib 库（无需外部依赖）
- 🎯 支持从文件名自动提取元数据
- 🎯 支持 M3U 元数据标签（@TITLE, @COMPOSER, @DATE, @RIPPER）
- 🎯 自动创建 ZIP 输出包

### 工具程序
- 🔧 vgm_parser.exe - VGM 文件分析器
- 🔧 gd3_reader.exe - GD3 标签读取器
- 🔧 test_filename_parser.exe - 文件名解析测试

### 文档
- 📖 完整的 README.md
- 📖 压缩包支持说明
- 📖 示例 M3U 文件

### 已知问题
- ⚠️ 临时文件清理功能待完善
- ⚠️ 仅支持 Windows 平台（MSYS2/MinGW）

### 计划功能
- 🔮 Linux/macOS 支持
- 🔮 GUI 界面
- 🔮 进度条显示
- 🔮 批量处理多个 7z 文件
- 🔮 自定义 GD3 标签编辑

---

## 开发历史

### 2026-02-03
- 初始开发
- 实现基本转换功能
- 添加 7z/ZIP 支持
- 修复时钟偏移问题
- 完善元数据处理
- 创建发布包

---

**感谢使用 GBS2VGM！**
